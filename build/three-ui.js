import{Node,Options,IoElement}from"../../iogui/build/iogui.js";import{IoInspector,IoProperties,IoIconsetSingleton}from"../../iogui/build/io-elements.js";import{WebGLRenderer,Scene,PerspectiveCamera,OrthographicCamera,Vector2,Vector3,MOUSE as MOUSE$1,Quaternion,Spherical,Raycaster,Object3D}from"../../three.js/build/three.module.js";const selectedOld=[];function filterItems(t,e,i){t=t instanceof Array?t:[t];let n=[];for(let a=0;a<t.length;a++)if(i&&!i(t[a])||n.push(t[a]),e){let o=filterItems(t[a].children,e,i);n.push(...o)}return n}class Selection extends Node{static get Properties(){return{selected:[]}}toggle(t,e,i){t=filterItems(t,e,i),selectedOld.push(...this.selected);for(let e=t.length;e--;){let i=this.selected.indexOf(t[e]);-1!==i?this.selected.splice(i,1):this.selected.push(t[e])}this.dispatchEvent("object-mutated",{objects:[this,this.selected]},!1,window)}add(t,e,i){t=filterItems(t,e,i),selectedOld.push(...this.selected),this.selected.concat(...t),this.dispatchEvent("object-mutated",{objects:[this,this.selected]},!1,window)}addFirst(t,e,i){t=filterItems(t,e,i),selectedOld.push(...this.selected),this.selected.length=0,this.selected.push(...t),this.selected.push(...selectedOld),this.dispatchEvent("object-mutated",{objects:[this,this.selected]},!1,window)}remove(t,e,i){t=filterItems(t,e,i),selectedOld.push(...this.selected);for(let e=t.length;e--;){-1!==this.selected.indexOf(t[e])&&this.selected.splice(e,1)}this.dispatchEvent("object-mutated",{objects:[this,this.selected]},!1,window)}replace(t,e,i){t=filterItems(t,e,i),selectedOld.push(...this.selected),this.selected.length=0,this.selected.push(...t),this.dispatchEvent("object-mutated",{objects:[this,this.selected]},!1,window)}clear(){selectedOld.push(...this.selected),this.selected.length=0,this.dispatchEvent("object-mutated",{objects:[this,this.selected]},!1,window)}dispose(){super.dispose(),this.selected.length=0}}Selection.Register();const REVISION="118dev",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,FrontFaceDirectionCW=0,FrontFaceDirectionCCW=1,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,SmoothShading=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,Uncharted2ToneMapping=3,CineonToneMapping=4,ACESFilmicToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,SphericalReflectionMapping=305,CubeUVReflectionMapping=306,CubeUVRefractionMapping=307,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedShort565Type=1019,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,RGBEFormat=1023,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,SRGB8_ALPHA8_ASTC_4x4_Format=37840,SRGB8_ALPHA8_ASTC_5x4_Format=37841,SRGB8_ALPHA8_ASTC_5x5_Format=37842,SRGB8_ALPHA8_ASTC_6x5_Format=37843,SRGB8_ALPHA8_ASTC_6x6_Format=37844,SRGB8_ALPHA8_ASTC_8x5_Format=37845,SRGB8_ALPHA8_ASTC_8x6_Format=37846,SRGB8_ALPHA8_ASTC_8x8_Format=37847,SRGB8_ALPHA8_ASTC_10x5_Format=37848,SRGB8_ALPHA8_ASTC_10x6_Format=37849,SRGB8_ALPHA8_ASTC_10x8_Format=37850,SRGB8_ALPHA8_ASTC_10x10_Format=37851,SRGB8_ALPHA8_ASTC_12x10_Format=37852,SRGB8_ALPHA8_ASTC_12x12_Format=37853,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,GammaEncoding=3007,RGBEEncoding=3002,LogLuvEncoding=3003,RGBM7Encoding=3004,RGBM16Encoding=3005,RGBDEncoding=3006,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042;var THREE=Object.freeze({__proto__:null,REVISION:"118dev",MOUSE:MOUSE,TOUCH:TOUCH,CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,VSMShadowMap:3,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,CineonToneMapping:4,ACESFilmicToneMapping:5,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:1005,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:1008,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1016,UnsignedShort4444Type:1017,UnsignedShort5551Type:1018,UnsignedShort565Type:1019,UnsignedInt248Type:1020,AlphaFormat:1021,RGBFormat:1022,RGBAFormat:1023,LuminanceFormat:1024,LuminanceAlphaFormat:1025,RGBEFormat:1023,DepthFormat:1026,DepthStencilFormat:1027,RedFormat:1028,RedIntegerFormat:1029,RGFormat:1030,RGIntegerFormat:1031,RGBIntegerFormat:1032,RGBAIntegerFormat:1033,RGB_S3TC_DXT1_Format:33776,RGBA_S3TC_DXT1_Format:33777,RGBA_S3TC_DXT3_Format:33778,RGBA_S3TC_DXT5_Format:33779,RGB_PVRTC_4BPPV1_Format:35840,RGB_PVRTC_2BPPV1_Format:35841,RGBA_PVRTC_4BPPV1_Format:35842,RGBA_PVRTC_2BPPV1_Format:35843,RGB_ETC1_Format:36196,RGB_ETC2_Format:37492,RGBA_ETC2_EAC_Format:37496,RGBA_ASTC_4x4_Format:37808,RGBA_ASTC_5x4_Format:37809,RGBA_ASTC_5x5_Format:37810,RGBA_ASTC_6x5_Format:37811,RGBA_ASTC_6x6_Format:37812,RGBA_ASTC_8x5_Format:37813,RGBA_ASTC_8x6_Format:37814,RGBA_ASTC_8x8_Format:37815,RGBA_ASTC_10x5_Format:37816,RGBA_ASTC_10x6_Format:37817,RGBA_ASTC_10x8_Format:37818,RGBA_ASTC_10x10_Format:37819,RGBA_ASTC_12x10_Format:37820,RGBA_ASTC_12x12_Format:37821,RGBA_BPTC_Format:36492,SRGB8_ALPHA8_ASTC_4x4_Format:37840,SRGB8_ALPHA8_ASTC_5x4_Format:37841,SRGB8_ALPHA8_ASTC_5x5_Format:37842,SRGB8_ALPHA8_ASTC_6x5_Format:37843,SRGB8_ALPHA8_ASTC_6x6_Format:37844,SRGB8_ALPHA8_ASTC_8x5_Format:37845,SRGB8_ALPHA8_ASTC_8x6_Format:37846,SRGB8_ALPHA8_ASTC_8x8_Format:37847,SRGB8_ALPHA8_ASTC_10x5_Format:37848,SRGB8_ALPHA8_ASTC_10x6_Format:37849,SRGB8_ALPHA8_ASTC_10x8_Format:37850,SRGB8_ALPHA8_ASTC_10x10_Format:37851,SRGB8_ALPHA8_ASTC_12x10_Format:37852,SRGB8_ALPHA8_ASTC_12x12_Format:37853,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,NormalAnimationBlendMode:2500,AdditiveAnimationBlendMode:2501,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3e3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,RGBADepthPacking:3201,TangentSpaceNormalMap:0,ObjectSpaceNormalMap:1,ZeroStencilOp:0,KeepStencilOp:7680,ReplaceStencilOp:7681,IncrementStencilOp:7682,DecrementStencilOp:7683,IncrementWrapStencilOp:34055,DecrementWrapStencilOp:34056,InvertStencilOp:5386,NeverStencilFunc:512,LessStencilFunc:513,EqualStencilFunc:514,LessEqualStencilFunc:515,GreaterStencilFunc:516,NotEqualStencilFunc:517,GreaterEqualStencilFunc:518,AlwaysStencilFunc:519,StaticDrawUsage:35044,DynamicDrawUsage:35048,StreamDrawUsage:35040,StaticReadUsage:35045,DynamicReadUsage:35049,StreamReadUsage:35041,StaticCopyUsage:35046,DynamicCopyUsage:35050,StreamCopyUsage:35042});function makeOptions(t){const e=[];for(let i=0;i<t.length;i++)e.push({value:THREE[t[i]],label:t[i]});return new Options(e)}const floatSlider=["io-number-slider",{min:0,max:1,step:.001}],matrixProp=["io-properties",{properties:["elements"],labeled:!1,config:{elements:["io-matrix"]}}],propProp=["io-properties",{config:{"type:object":["io-item",{class:"select"}]}}],textureFormatOptions=makeOptions(["AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RGB_ETC1_Format",{label:"DXT Formats",options:makeOptions(["RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format"])},{label:"PVRTC Formats",options:makeOptions(["RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format"])},{label:"ASTC Formats",options:makeOptions(["RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format"])}]),config={"type:boolean":["io-switch"],"constructor:Vector2":["io-vector",{step:1e-5}],"constructor:Vector3":["io-vector",{step:1e-5}],"constructor:Vector4":["io-vector",{step:1e-5}],"constructor:Matrix2":matrixProp,"constructor:Matrix3":matrixProp,"constructor:Matrix4":matrixProp,"constructor:Euler":["three-euler"],"constructor:Quaternion":["io-vector",{step:.01}],"constructor:Color":["io-color-vector"],scale:["io-vector",{linkable:!0,step:1e-4}],"constructor:Sphere":propProp,"Object3D|drawMode":["io-option-menu",{options:makeOptions(["TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode"])}],"Object3D|castShadow":["io-switch"],"Object3D|receiveShadow":["io-switch"],"BufferGeometry|constructor:Object":propProp,"BufferAttribute|constructor:Object":propProp,"Material|opacity":floatSlider,"Material|reflectivity":floatSlider,"Material|refractionRatio":floatSlider,"Material|aoMapIntensity":floatSlider,"Material|emissiveIntensity":floatSlider,"Material|side":["io-option-menu",{options:makeOptions(["FrontSide","BackSide","DoubleSide"])}],"Material|shading":["io-option-menu",{options:makeOptions(["FlatShading","SmoothShading"])}],"Material|vertexColors":["io-option-menu",{options:makeOptions(["NoColors","FaceColors","VertexColors"])}],"Material|blending":["io-option-menu",{options:makeOptions(["NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending"])}],"Material|blendEquation":["io-option-menu",{options:makeOptions(["AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation"])}],"Material|blendEquationAlpha":["io-option-menu",{options:makeOptions(["AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation"])}],"Material|blendSrc":["io-option-menu",{options:makeOptions(["ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor"])}],"Material|blendDst":["io-option-menu",{options:makeOptions(["ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor"])}],"Material|blendSrcAlpha":["io-option-menu",{options:makeOptions(["ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor"])}],"Material|blendDstAlpha":["io-option-menu",{options:makeOptions(["ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor"])}],"Material|depthFunc":["io-option-menu",{options:makeOptions(["NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth"])}],"Material|combine":["io-option-menu",{options:makeOptions(["MultiplyOperation","MixOperation","AddOperation"])}],"Material|shadowSide":["io-option-menu",{options:makeOptions(["BackSide","FrontSide","DoubleSide"])}],"Material|stencilFunc":["io-option-menu",{options:makeOptions(["NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc"])}],"Material|stencilFail":["io-option-menu",{options:makeOptions(["ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp"])}],"Material|stencilZFail":["io-option-menu",{options:makeOptions(["ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp"])}],"Material|stencilZPass":["io-option-menu",{options:makeOptions(["ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp"])}],"Material|depthPacking":["io-option-menu",{options:makeOptions(["BasicDepthPacking","RGBADepthPacking"])}],"Material|normalMapType":["io-option-menu",{options:makeOptions(["TangentSpaceNormalMap","ObjectSpaceNormalMap"])}],"Texture|mapping":["io-option-menu",{options:makeOptions(["UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping"])}],"Texture|wrapS":["io-option-menu",{options:makeOptions(["RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping"])}],"Texture|wrapT":["io-option-menu",{options:makeOptions(["RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping"])}],"Texture|minFilter":["io-option-menu",{options:makeOptions(["NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter"])}],"Texture|magFilter":["io-option-menu",{options:makeOptions(["NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter"])}],"Texture|type":["io-option-menu",{options:makeOptions(["UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type"])}],"Texture|encoding":["io-option-menu",{options:makeOptions(["LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding"])}],"Texture|format":["io-option-menu",{options:textureFormatOptions}],"Texture|unpackAlignment":["io-option-menu",{options:makeOptions(["1","2","4","8"])}],"WebGLRenderer|toneMapping":["io-option-menu",{options:makeOptions(["NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping"])}],"WebGLShadowMap|type":["io-option-menu",{options:makeOptions(["BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap"])}],"AnimationAction|loop":["io-option-menu",{options:makeOptions(["LoopOnce","LoopRepeat","LoopPingPong"])}],"KeyframeTrack|loop":["io-option-menu",{options:makeOptions(["InterpolateDiscrete","InterpolateLinear","InterpolateSmooth"])}],"Camera|fov":["io-number-slider",{min:.001,max:180,step:.1}],"Camera|zoom":["io-number-slider",{min:1e-4,max:10,exponent:3}],"Camera|near":["io-number-slider",{min:1e-4,max:1e5,step:1e-4,exponent:5}],"Camera|far":["io-number-slider",{min:1e-4,max:1e5,step:1e-4,exponent:5}]},groups={"Object3D|main":[],"Object3D|transform":["position","rotation","scale"],"Object3D|rendering":["frustumCulled","castShadow","receiveShadow"],"Scene|rendering":["background","fog","overrideMaterial"],"Light|main":["color","groundColor","intensity"],"Light|transform":["target"],"Scene|main":["autoUpdate"],"Camera|main":["fov"],"BufferGeometry|main":["boundingBox","boundingSphere"],"BufferGeometry|main:advanced":["groups"],"BufferGeometry|attributes":["index","attributes"],"BufferGeometry|attributes:advanced":["morphAttributes","drawRange"],"BufferAttribute|main":["array","itemSize","count","dynamic","normalized","updateRange"],"Material|main":["transparent","opacity","color","map",/Map/,/emissive/i,"reflectivity","refractionRatio"],"Material|rendering":["side","fog","lights","flatShading","toneMapped","wireframe"],"Material|rendering:advanced":[/wireframeLine/,"vertexTangents","vertexColors"],"Material|blending":[/blend/i,"colorWrite","depthTest","depthWrite","dithering","premultipliedAlpha","alphaTest","depthFunc","combine"],"Material|shadows":[/shadow/i],"Material|stencil:advanced":[/stencil/i],"Camera|main:advanced":["zoom","focus","aspect","filmGauge","filmOffset","view","near","far"],"Object3D|main:advanced":["geometry","material","visible","parent","children"],"Object3D|transform:advanced":["up","quaternion"],"Object3D|matrices:advanced":[/matrix/i],"Object3D|rendering:advanced":["layers","renderOrder","drawMode"],"Object|main":[],"Object|main:advanced":["name","id","uuid","userData","type"],"Object|hidden":[/^is/],"Array|elements":[/^[0-9]+$/],"Array|hidden":["length"]},widgets={Object3D:["three-widget-object3d"],"Camera|main":["three-widget-camera"]};class ThreeInspector extends IoInspector{static get Style(){return"\n\t\t:host io-number {\n\t\t\tpadding-left: 0;\n\t\t\tpadding-right: 0;\n\t\t}\n\t\t:host io-number-slider-range > io-number,\n\t\t:host io-number-slider > io-number {\n\t\t\tflex-basis: 4.5em;\n\t\t}\n\t\t"}static get Listeners(){return{mousedown:"stopPropagation",mouseup:"stopPropagation",mousemove:"stopPropagation",touchstart:"stopPropagation",touchmove:"stopPropagation",touchend:"stopPropagation",keydown:"stopPropagation",keyup:"stopPropagation","io-value-set":"_onIoValueSet"}}static get Config(){return config}static get Groups(){return groups}static get Widgets(){return widgets}stopPropagation(t){t.stopPropagation()}_onIoValueSet(){this.dispatchEvent("change")}}IoProperties.RegisterConfig(config),ThreeInspector.Register(),ThreeInspector.RegisterGroups({});class ThreeEuler extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t:host > io-number {\n\t\t\twidth: inherit;\n\t\t\tflex: 1 1;\n\t\t}\n\t\t:host > *:not(:last-child) {\n\t\t\tmargin-right: var(--io-spacing);\n\t\t}\n\t\t:host > io-boolean {\n\t\t\twidth: var(--io-line-height) !important;\n\t\t}\n\t\t"}static get Properties(){return{value:{value:Object,observe:1},conversion:180/Math.PI,step:Math.PI/180,min:-1/0,max:1/0,components:["x","y","z"]}}_onValueSet(t){const e=t.composedPath()[0].id,i=t.detail.value,n=t.detail.oldValue;this.value[e]=i;const a={object:this.value,property:e,value:i,oldValue:n};this.dispatchEvent("object-mutated",a,!1,window)}_onOrderSet(t){const e=t.detail.value,i=t.detail.oldValue;this.value.order=e;const n={object:this.value,property:"order",value:e,oldValue:i};this.dispatchEvent("object-mutated",n,!1,window)}changed(){const t=[];for(let e in this.components){const i=this.components[e];void 0!==this.value[i]&&t.push(["io-number",{id:i,value:this.value[i],conversion:this.conversion,step:this.step,min:this.min,max:this.max,ladder:!0,"on-value-set":this._onValueSet}])}t.push(["io-option-menu",{value:this.value.order,options:new Options(["YZX","ZXY","XZY","YXZ","ZYX"]),"on-value-set":this._onOrderSet}]),this.template(t)}}ThreeEuler.Register();const renderer=new WebGLRenderer({antialias:!1,preserveDrawingBuffer:!0,alpha:!0}),gl=renderer.getContext();let host;renderer.domElement.className="canvas3d",renderer.gammaFactor=2.2,renderer.gammaInput=!0,renderer.gammaOutput=!0,renderer.shadowMap.enabled=!0,renderer.setClearColor(0,1),renderer.autoClear=!1;let perfWarned,perfNow=0,perfDelta=1e3,perfAverage=1e3;const _performanceCheck=function(){perfWarned||(perfDelta=performance.now()-perfNow,perfAverage=Math.min((10*perfAverage+perfDelta)/11,1e3),perfNow=performance.now(),perfAverage<16&&(console.warn("ThreeRenderer performance warning: rendering multiple canvases!"),perfWarned=!0))},renderedQueue=[],renderNextQueue=[],animate=function(){for(let t=0;t<renderedQueue.length;t++)renderedQueue[t].rendered=!1;renderedQueue.length=0;for(let t=0;t<renderNextQueue.length;t++)renderNextQueue[t].scheduled=!1,renderNextQueue[t].render();renderNextQueue.length=0,requestAnimationFrame(animate)};requestAnimationFrame(animate);class ThreeRenderer extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: block;\n\t\t\toverflow: hidden;\n\t\t\tposition: relative;\n\t\t\ttouch-action: none;\n\t\t\tuser-select: none;\n\t\t\tbox-sizing: border-box;\n\t\t}\n\t\t:host:focus > canvas {\n\t\t\toutline: var(--io-border-width) solid var(--io-color-focus);\n\t\t\toutline-offset: calc(var(--io-border-width) * -1);\n\t\t}\n\t\t:host > canvas {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tpointer-events: none;\n\t\t\timage-rendering: optimizeSpeed; /* Older versions of FF */\n\t\t\timage-rendering: -moz-crisp-edges; /* FF 6.0+ */\n\t\t\timage-rendering: -webkit-optimize-contrast; /* Safari */\n\t\t\timage-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n\t\t\timage-rendering: pixelated; /* Awesome future-browsers */\n\t\t\t-ms-interpolation-mode: nearest-neighbor;\n\t\t}\n\t\t:host[ishost] > canvas:not(.canvas3d) {\n\t\t\tdisplay: none;\n\t\t}\n\t\t"}static get Properties(){return{scene:{type:Scene,observe:1},camera:{type:PerspectiveCamera,observe:1},ishost:{type:Boolean,reflect:1},size:[0,0],tabindex:1,clearColor:0,clearAlpha:1}}static get Listeners(){return{dragstart:"preventDefault"}}get renderer(){return renderer}constructor(t){super(t),this.template([["canvas",{id:"canvas"}]]),this._ctx=this.$.canvas.getContext("2d"),this.$.canvas.imageSmoothingEnabled=!1}sceneChanged(){this.queueRender()}cameraChanged(){this.queueRender()}sceneMutated(){this.queueRender()}cameraMutated(){this.queueRender()}queueRender(){this.scheduled||(renderNextQueue.push(this),this.scheduled=!0)}render(){!this.rendered&&this._ctx?(this.setHost(),this.updateCameraAspect(),this.preRender(),this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.postRender(),renderedQueue.push(this),this.rendered=!0):this.queueRender()}preRender(){}postRender(){}updateCameraAspect(){if(this.size[0]&&this.size[1]){const t=this.size[0]/this.size[1];if(this.camera instanceof PerspectiveCamera&&(this.camera.aspect=t),this.camera instanceof OrthographicCamera){const e=(this.camera.top-this.camera.bottom)/2;let i=e*t;this.camera.top=e,this.camera.bottom=-e,this.camera.right=i,this.camera.left=-i,this.camera.updateMatrix(),this.camera.updateMatrixWorld()}this.camera.updateProjectionMatrix()}}setHost(){if(!this.ishost){if(host){const t=window.devicePixelRatio||1;host._ctx.clearRect(0,0,host.size[0]*t,host.size[1]*t),host._ctx.drawImage(host.renderer.domElement,0,0,host.size[0]*t,host.size[1]*t),gl.flush(),host.ishost=!1}host=this,this.appendChild(this.renderer.domElement),this.ishost=!0,_performanceCheck()}this.size[0]&&this.size[1]&&(this.renderer.setSize(this.size[0],this.size[1]),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(this.clearColor,this.clearAlpha))}onResized(){const t=this.getBoundingClientRect();this.size[0]=Math.floor(t.width),this.size[1]=Math.floor(t.height);const e=window.devicePixelRatio||1;this.$.canvas.width=this.size[0]*e,this.$.canvas.height=this.size[1]*e,this.size[0]&&this.size[1]&&(this.renderer.setSize(this.size[0],this.size[1]),this.renderer.setPixelRatio(window.devicePixelRatio)),this.render()}}ThreeRenderer.Register();class Pointers extends Node{static get Properties(){return{enabled:!0,elements:[],elementPointers:WeakMap}}attachElement(t){-1===this.elements.indexOf(t)&&(t.addEventListener("pointerdown",this.onPointerdown),t.addEventListener("pointermove",this.onPointerhover),t.addEventListener("pointerup",this.onPointerup),t.addEventListener("pointerleave",this.onPointerleave),t.addEventListener("contextmenu",this.onContextmenu),t.addEventListener("wheel",this.onWheel),t.addEventListener("keydown",this.onKeydown),t.addEventListener("keyup",this.onKeyup),t.addEventListener("focus",this.onFocus),t.addEventListener("blur",this.onBlur),this.elements.push(t)),this.elementPointers.set(t,{})}detachElement(t){-1!==this.elements.indexOf(t)&&(this.elements.splice(this.elements.indexOf(t),1),t.removeEventListener("pointerdown",this.onPointerdown),t.removeEventListener("pointermove",this.onPointerhover),t.removeEventListener("pointerup",this.onPointerup),t.removeEventListener("pointerleave",this.onPointerleave),t.removeEventListener("contextmenu",this.onContextmenu),t.removeEventListener("wheel",this.onWheel),t.removeEventListener("keydown",this.onKeydown),t.removeEventListener("keyup",this.onKeyup),t.removeEventListener("focus",this.onFocus),t.removeEventListener("blur",this.onBlur)),this.elementPointers.delete(t)}dispose(){super.dispose();for(let t=this.elements.length;t--;)this.detachElement(this.elements[t]);delete this.elements,delete this.elementPointers}onPointerdown(t){if(!this.enabled)return!1;const e=t.pointerId;t.target.setPointerCapture(e);const i=this.elementPointers.get(t.target);i[e]=new Pointer(t),this.dispatchEvent("pointerdown",{event:t,pointers:[i[e]]})}onPointerhover(t){if(!this.enabled)return!1;if(0===t.buttons){const e=new Pointer(t);this.dispatchEvent("pointerhover",{event:t,pointers:[e]})}else this.onPointermove(t)}onPointermove(t){this.throttle(this.onPointermoveThrottled,t)}onPointermoveThrottled(t){if(!this.enabled)return!1;const e=t.pointerId,i=this.elementPointers.get(t.target);i[e]=new Pointer(t,i[e]);const n=[];for(let t in i)n.push(i[t]);this.dispatchEvent("pointermove",{event:t,pointers:n})}onPointerup(t){if(!this.enabled)return!1;const e=t.pointerId;t.target.releasePointerCapture(e);const i=this.elementPointers.get(t.target),n=new Pointer(t,i[e]);delete i[e],this.dispatchEvent("pointerup",{event:t,pointers:[n]})}onPointerleave(t){if(!this.enabled)return!1;const e=t.pointerId,i=this.elementPointers.get(t.target),n=new Pointer(t);i[e]=void 0,delete i[e],this.dispatchEvent("pointerleave",{event:t,pointers:[n]})}onContextmenu(t){if(!this.enabled)return!1;this.dispatchEvent("contextmenu",{event:t})}onKeydown(t){if(!this.enabled)return!1;this.dispatchEvent("keydown",{event:t})}onKeyup(t){if(!this.enabled)return!1;this.dispatchEvent("keyup",{event:t})}onWheel(t){if(!this.enabled)return!1;this.dispatchEvent("wheel",{event:t})}onFocus(t){if(!this.enabled)return!1;this.dispatchEvent("focus",{event:t})}onBlur(t){if(!this.enabled)return!1;this.dispatchEvent("blur",{event:t})}}Pointers.Register();class Pointer{constructor(t,e){const i=t.target.getBoundingClientRect(),n=1===t.buttons||3===t.buttons||5===t.buttons||7===t.buttons,a=2===t.buttons||6===t.buttons,o=4===t.buttons,r=t.offsetX/i.width*2-1,s=t.offsetY/i.height*-2+1,l=t.movementX/i.width*2,c=t.movementY/i.height*-2,p=e?e.start:{x:r,y:s};return{pointerId:t.pointerId,target:t.target,rect:i,type:t.type,pointerType:t.pointerType,position:{x:r,y:s},movement:{x:l,y:c},previous:{x:r-l,y:s-c},start:{x:p.x,y:p.y},distance:{x:r-p.x,y:s-p.y},buttons:t.buttons,button:n?0:a?1:o?2:-1,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey}}}class Tool extends Node{static get Properties(){return{enabled:!0,active:!1,state:-1,scene:Scene,helperScene:Scene,viewports:[],cameras:WeakMap,pointers:Pointers}}get compose(){return{pointers:{enabled:this.bind("enabled")}}}constructor(t){super(t),this.pointers.addEventListener("pointerdown",this.onViewportPointerdown.bind(this)),this.pointers.addEventListener("pointerhover",this.onViewportPointerhover.bind(this)),this.pointers.addEventListener("pointermove",this.onViewportPointermove.bind(this)),this.pointers.addEventListener("pointerup",this.onViewportPointerup.bind(this)),this.pointers.addEventListener("pointerleave",this.onViewportPointerleave.bind(this)),this.pointers.addEventListener("contextmenu",this.onViewportContextmenu.bind(this)),this.pointers.addEventListener("scroll",this.onViewportWheel.bind(this)),this.pointers.addEventListener("wheel",this.onViewportWheel.bind(this)),this.pointers.addEventListener("keydown",this.onViewportKeydown.bind(this)),this.pointers.addEventListener("keyup",this.onViewportKeyup.bind(this)),this.pointers.addEventListener("focus",this.onViewportFocus.bind(this)),this.pointers.addEventListener("blur",this.onViewportBlur.bind(this)),t&&t.domElement&&t.camera&&this.attachViewport(t.domElement,t.camera)}enabledChanged(){this.pointers.enabled=this.enabled}attachViewport(t,e){-1===this.viewports.indexOf(t)&&this.viewports.push(t),this.pointers.attachElement(t),this.cameras.set(t,e)}detachViewport(t){-1!==this.viewports.indexOf(t)&&this.viewports.splice(this.viewports.indexOf(t),1),this.pointers.detachElement(t),this.cameras.delete(t)}onViewportPointerdown(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=t.detail.pointers,n=this.cameras.get(e),a=e.getBoundingClientRect();this.dispatchEvent("pointerdown",{event:t.detail.event,target:e,rect:a,pointers:i,camera:n})}onViewportPointerhover(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=t.detail.pointers,n=this.cameras.get(e),a=e.getBoundingClientRect();this.dispatchEvent("pointerhover",{event:t.detail.event,target:e,rect:a,pointers:i,camera:n})}onViewportPointermove(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=t.detail.pointers,n=this.cameras.get(e),a=e.getBoundingClientRect();this.dispatchEvent("pointermove",{event:t.detail.event,target:e,rect:a,pointers:i,camera:n})}onViewportPointerup(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=t.detail.pointers,n=this.cameras.get(e),a=e.getBoundingClientRect();this.dispatchEvent("pointerup",{event:t.detail.event,target:e,rect:a,pointers:i,camera:n})}onViewportPointerleave(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=t.detail.pointers,n=this.cameras.get(e),a=e.getBoundingClientRect();this.dispatchEvent("pointerleave",{event:t.detail.event,target:e,rect:a,pointers:i,camera:n})}onViewportContextmenu(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=this.cameras.get(e),n=e.getBoundingClientRect();this.dispatchEvent("contextmenu",{event:t.detail.event,target:e,rect:n,camera:i})}onViewportKeydown(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=this.cameras.get(e),n=e.getBoundingClientRect();this.dispatchEvent("keydown",{event:t.detail.event,target:e,rect:n,camera:i})}onViewportKeyup(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=this.cameras.get(e),n=e.getBoundingClientRect();this.dispatchEvent("keyup",{event:t.detail.event,target:e,rect:n,camera:i})}onViewportWheel(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=this.cameras.get(e),n=e.getBoundingClientRect();this.dispatchEvent("wheel",{event:t.detail.event,target:e,rect:n,camera:i})}onViewportFocus(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=this.cameras.get(e),n=e.getBoundingClientRect();this.dispatchEvent("focus",{event:t.detail.event,target:e,rect:n,camera:i})}onViewportBlur(t){if(!this.enabled)return!1;const e=t.detail.event.target,i=this.cameras.get(e),n=e.getBoundingClientRect();this.dispatchEvent("blur",{event:t.detail.event,target:e,rect:n,camera:i})}dispose(){super.dispose();for(let t=this.viewports.length;t--;)this.detachViewport(this.viewports[t]);this.pointers.dispose(),delete this.viewports,delete this.cameras,delete this.pointers,delete this.onViewportPointerdown,delete this.onViewportPointerhover,delete this.onViewportPointermove,delete this.onViewportPointerup,delete this.onViewportContextmenu,delete this.onViewportWheel,delete this.onViewportKeydown,delete this.onViewportKeyup,delete this.onViewportFocus,delete this.onViewportBlur}}Tool.Register();let time=performance.now();const animationQueue=[],animate$1=function(){const t=performance.now(),e=t-time;time=t;for(let t=animationQueue.length;t--;)animationQueue[t].animate(e,time);requestAnimationFrame(animate$1)};requestAnimationFrame(animate$1);class Animation extends Node{constructor(){super(),this._time=0,this._timeRemainging=0}startAnimation(t){this._time=0,this._timeRemainging=Math.max(this._timeRemainging,1e3*t||0),-1===animationQueue.indexOf(this)&&animationQueue.push(this)}animate(t,e){this._timeRemainging>=0?(this._time=this._time+t,this._timeRemainging=this._timeRemainging-t,this.dispatchEvent("animation",{timestep:t,time:e})):this.stop()}stop(){this._time=0,this._timeRemainging=0,animationQueue.splice(animationQueue.indexOf(this),1)}stopAnimation(){this._active=!1,cancelAnimationFrame(this._rafID)}}Animation.Register();const STATE={NONE:-1,ORBIT:0,DOLLY:1,PAN:2,DOLLY_PAN:3},EPS=1e-6,direction=new Vector2,aspectMultiplier=new Vector2,orbit=new Vector2,pan=new Vector2;function dampTo(t,e,i,n){const a=1-Math.pow(i,n);return t*(1-a)+e*a}class CameraControls extends Tool{static get Properties(){return{enableOrbit:!0,enableDolly:!0,enablePan:!0,enableFocus:!0,orbitSpeed:1,dollySpeed:1,panSpeed:1,keyOrbitSpeed:.1,keyDollySpeed:.1,keyPanSpeed:.1,wheelDollySpeed:.02,autoOrbit:Vector2,autoDollyPan:Vector3,enableDamping:!0,dampingFactor:.05}}constructor(t){super(t),this.KEYS={PAN_LEFT:37,PAN_UP:38,PAN_RIGHT:39,PAN_DOWN:40,ORBIT_LEFT:65,ORBIT_RIGHT:68,ORBIT_UP:83,ORBIT_DOWN:87,DOLLY_OUT:189,DOLLY_IN:187,FOCUS:70},this.BUTTON={LEFT:MOUSE$1.LEFT,MIDDLE:MOUSE$1.MIDDLE,RIGHT:MOUSE$1.RIGHT},this.animation=new Animation,this.animation.addEventListener("animation",t=>{this.update(t.detail.timestep)}),this.addEventListener("pointermove",this.onPointermove.bind(this)),this.addEventListener("pointerup",this.onPointerup.bind(this)),this.addEventListener("wheel",this.onWheel.bind(this))}dispose(){super.dispose()}attachViewport(t,e){super.attachViewport(t,e),e._target=e._target||new Vector3,e._state=e._state||{_orbit:new Vector2,_orbitV:new Vector2,_pan:new Vector2,_panV:new Vector2,_dolly:0,_dollyV:0},e.lookAt(e._target),this.animation.startAnimation(0)}stateChanged(){this.active=this.state!==STATE.NONE,this.animation.startAnimation(0)}update(t){let e=t/1e3;for(let t=this.viewports.length;t--;){const i=this.cameras.get(this.viewports[t]);this.state!==STATE.ORBIT?this.enableDamping&&(i._state._orbitV.x=dampTo(i._state._orbitV.x,this.autoOrbit.x,this.dampingFactor,e),i._state._orbitV.y=dampTo(i._state._orbitV.y,0,this.dampingFactor,e)):i._state._orbitV.set(this.autoOrbit.x,0),i._state._orbit.x+=i._state._orbitV.x,i._state._orbit.y+=i._state._orbitV.y,this.state!==STATE.PAN?(i._state._panV.x=dampTo(i._state._panV.x,0,this.dampingFactor,e),i._state._panV.y=dampTo(i._state._panV.y,0,this.dampingFactor,e)):i._state._panV.set(0,0),i._state._pan.x+=i._state._panV.x,i._state._pan.y+=i._state._panV.y,this.state!==STATE.DOLLY?i._state._dollyV=dampTo(i._state._dollyV,0,this.dampingFactor,e):i._state._dollyV=0,i._state._dolly+=i._state._dollyV,this.enableDamping&&(this.state===STATE.ORBIT&&i._state._orbitV.copy(i._state._orbit),this.state===STATE.PAN&&i._state._panV.copy(i._state._pan),this.state===STATE.DOLLY&&(i._state._dollyV=i._state._dolly)),this.orbit(orbit.copy(i._state._orbit),i),this.dolly(i._state._dolly,i),this.pan(pan.copy(i._state._pan),i),i.lookAt(i._target),i._state._orbit.set(0,0),i._state._pan.set(0,0),i._state._dolly=0;let n=0;n=Math.max(n,Math.abs(i._state._orbitV.x)),n=Math.max(n,Math.abs(i._state._orbitV.y)),n=Math.max(n,Math.abs(i._state._panV.x)),n=Math.max(n,Math.abs(i._state._panV.y)),(n=Math.max(n,Math.abs(i._state._dollyV)))>EPS&&(this.dispatchEvent("object-mutated",{object:i},!1,window),this.dispatchEvent("object-mutated",{object:i.position},!1,window),this.dispatchEvent("object-mutated",{object:i.rotation},!1,window),this.animation.startAnimation(0))}}onPointermove(t){const e=t.detail.pointers,i=t.detail.camera,n=t.detail.rect;switch(aspectMultiplier.set(n.width/n.height,1),e.length){case 1:switch(direction.copy(e[0].movement).multiply(aspectMultiplier),e[0].button){case this.BUTTON.LEFT:e.ctrlKey?this._setPan(i,direction.multiplyScalar(this.panSpeed)):e.altKey?this._setDolly(i,e[0].movement.y*this.dollySpeed):this._setOrbit(i,direction.multiplyScalar(this.orbitSpeed));break;case this.BUTTON.MIDDLE:this._setDolly(i,e[0].movement.y*this.dollySpeed);break;case this.BUTTON.RIGHT:this._setPan(i,direction.multiplyScalar(this.panSpeed))}}}onPointerup(){this.state=STATE.NONE}onKeyUp(){}onWheel(t){const e=t.detail.camera;this._setDolly(e,t.detail.event.wheelDelta*this.wheelDollySpeed)}_setPan(t,e){this.state=STATE.PAN,this.enablePan&&t._state._pan.copy(e),this.animation.startAnimation(0)}_setDolly(t,e){this.state=STATE.DOLLY,this.enableDolly&&(t._state._dolly=e),this.animation.startAnimation(0)}_setDollyPan(t,e,i){this.state=STATE.DOLLY_PAN,this.enableDolly&&(t._state._dolly=e),this.enablePan&&t._state._pan.copy(i),this.animation.startAnimation(0)}_setOrbit(t,e){this.state=STATE.ORBIT,this.enableOrbit&&t._state._orbit.copy(e),this.animation.startAnimation(0)}_setFocus(t){this.state=STATE.NONE,this.object&&this.enableFocus&&this.focus(this.object,t),this.animation.startAnimation(0)}pan(){console.warn("CameraControls: pan() not implemented!")}dolly(){console.warn("CameraControls: dolly() not implemented!")}orbit(){console.warn("CameraControls: orbit() not implemented!")}focus(){console.warn("CameraControls: focus() not implemented!")}}const eye=new Vector3,offset=new Vector3,offset2=new Vector3,unitY=new Vector3(0,1,0),tempQuat=new Quaternion,tempQuatInverse=tempQuat.clone().inverse();class OrbitCameraControls extends CameraControls{static get Properties(){return{minDistance:0,maxDistance:1/0,minZoom:0,maxZoom:1/0,minPolarAngle:0,maxPolarAngle:Math.PI,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,screenSpacePanning:!1,_spherical:Spherical}}orbit(t,e){tempQuat.setFromUnitVectors(e.up,unitY),tempQuatInverse.copy(tempQuat).inverse(),eye.copy(e.position).sub(e._target),eye.applyQuaternion(tempQuat),this._spherical.setFromVector3(eye),this._spherical.theta-=t.x,this._spherical.phi+=t.y,this._spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi))}dolly(t,e){let i=t>0?1-t:1/(1+t);e.isPerspectiveCamera?this._spherical.radius/=i:e.isOrthographicCamera&&(e.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,e.zoom*i))),this._spherical.makeSafe(),this._spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this._spherical.radius))}pan(t,e){let i,n;if(e.isPerspectiveCamera){let a=Math.tan(e.fov/2*Math.PI/180);i=t.x*eye.length()*a,n=-t.y*eye.length()*a}else e.isOrthographicCamera&&(i=t.x*(e.right-e.left)/e.zoom,n=-t.y*(e.top-e.bottom)/e.zoom);offset.setFromMatrixColumn(e.matrix,0),offset.multiplyScalar(-i),offset2.copy(offset),this.screenSpacePanning?offset.setFromMatrixColumn(e.matrix,1):(offset.setFromMatrixColumn(e.matrix,0),offset.crossVectors(e.up,offset)),offset.multiplyScalar(n),offset2.add(offset),e._target.add(offset2),offset.setFromSpherical(this._spherical),offset.applyQuaternion(tempQuatInverse),e.position.copy(e._target).add(offset),e.lookAt(e._target)}focus(){}get polarAngle(){return this._spherical.phi}get azimuthalAngle(){return this._spherical.theta}}OrbitCameraControls.Register();const raycaster=new Raycaster;let time$1=0,dtime=0;const CLICK_DIST=2,CLICK_TIME=250;class SelectionControls extends Tool{static get Properties(){return{selection:Selection}}static get Listeners(){return{pointerdown:"onPointerdown",pointerup:"onPointerup"}}select(t,e,i){raycaster.setFromCamera(e.position,i);const n=raycaster.intersectObjects(this.scene.children,!0);if(n.length>0){const t=n[0].object;e.ctrlKey?this.selection.toggle(t):this.selection.replace(t)}else this.selection.clear()}onPointerdown(){time$1=Date.now()}onPointerup(t){const e=t.detail.pointers,i=t.detail.event.target,n=t.detail.camera,a=t.detail.rect,o=Math.floor(e[0].distance.x*a.width/2),r=Math.floor(e[0].distance.y*a.height/2),s=Math.sqrt(o*o+r*r);dtime=Date.now()-time$1,e[0]&&dtime<CLICK_TIME&&s<CLICK_DIST&&this.select(i,e[0],n)}}SelectionControls.Register();class ThreeViewport extends ThreeRenderer{static get Properties(){return{cameraTool:OrbitCameraControls,selectionTool:SelectionControls,selection:Selection}}get compose(){return{cameraTool:{scene:this.bind("scene")},selectionTool:{scene:this.bind("scene"),selection:this.bind("selection")}}}connectedCallback(){super.connectedCallback(),this.cameraTool.attachViewport(this,this.camera),this.selectionTool.attachViewport(this,this.camera)}disconnectedCallback(){super.disconnectedCallback(),this.cameraTool.detachViewport(this,this.camera),this.selectionTool.detachViewport(this,this.camera)}cameraChanged(){this.cameraTool.attachViewport(this,this.camera),this.selectionTool.attachViewport(this,this.camera)}selectionToolChanged(t){t.detail.oldValue&&t.detail.oldValue.detachViewport(this),t.detail.value.attachViewport(this,this.camera)}cameraToolChanged(t){t.detail.oldValue&&t.detail.oldValue.detachViewport(this),t.detail.value.attachViewport(this,this.camera)}selectionMutated(){this.render()}dispose(){this.cameraTool.detachViewport(this,this.camera),this.selectionTool.detachViewport(this,this.camera)}preRender(){}postRender(){this.renderer.clearDepth()}}ThreeViewport.Register();class ThreeWidgetObject3D extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\toverflow: hidden;\n\t\t\talign-self: stretch;\n\t\t\tmargin: var(--io-spacing) 0;\n\t\t}\n\t\t:host * {\n\t\t\toverflow: hidden;\n\t\t}\n\t\t:host io-boolicon {\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-outset);\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tbackground-image: var(--io-gradient-button);\n\t\t\tmargin-right: var(--io-spacing);\n\t\t}\n\t\t:host io-boolicon:not([value]) > svg {\n\t\t\topacity: 0.25;\n\t\t}\n\t\t:host io-icon.widget-icon {\n\t\t\tpadding: 0;\n\t\t\tmargin: 0 var(--io-spacing);\n\t\t\twidth: calc(calc(2 * var(--io-item-height)) + var(--io-spacing));\n\t\t\theight: calc(calc(2 * var(--io-item-height)) + var(--io-spacing));\n\t\t}\n\t\t:host io-string.name {\n\t\t\tflex-grow: 1;\n\t\t}\n\t\t:host io-string.name:empty:before {\n\t\t\tcontent: ' Name';\n\t\t\twhite-space: pre;\n\t\t\tvisibility: visible;\n\t\t\topacity: 0.33;\n\t\t}\n\t\t:host io-option-menu {\n\t\t\tmargin-left: auto;\n\t\t}\n\t\t:host io-button {\n\t\t\tpadding-left: var(--io-spacing);\n\t\t\tpadding-right: var(--io-spacing);\n\t\t\tmargin-right: calc(0.5 * var(--io-spacing));\n\t\t}\n\t\t"}static get Properties(){return{value:{type:Object,observe:1}}}get scene(){let t=this.value;for(;t instanceof Object3D;){if(t instanceof Scene&&!t.parent)return t;t=t.parent}return null}_select(t){this.className="select",this.dispatchEvent("item-clicked",{value:t},!0)}_setVisible(t){this.value.visible=t.detail.value,this.dispatchEvent("object-mutated",{object:this.value},!1,window)}_setName(t){this.value.name=t.detail.value,this.dispatchEvent("object-mutated",{object:this.value},!1,window)}changed(){const t=this.value,e=[];t.children&&e.push(...t.children.map(t=>{return{label:t.name||t.constructor.name,value:t,action:this._select}})),this.scene!==t&&e.push({icon:"🡄",label:"Scene",value:this.scene,action:this._select}),t.parent&&e.push({icon:"🡄",label:"Parent",value:t.parent,action:this._select}),this.template([["div",{class:"io-row"},[["io-icon",{class:"widget-icon",icon:"three:grid"}],["div",{class:"io-column"},[["div",{class:"io-row"},[["io-boolicon",{value:t.visible,"on-value-set":this._setVisible,true:"icons:visibility",false:"icons:visibility_off"}],["io-string",{value:t.name,"on-value-set":this._setName,class:"name"}]]],["div",{class:"io-row"},[t.material?["io-button",{icon:"three:sphere_shade",label:"mat",value:t.material,class:"select"}]:null,t.geometry?["io-button",{icon:"three:mesh_triangles",label:"geo",value:t.geometry,class:"select"}]:null,e.length?["io-option-menu",{selectable:!1,options:new Options(e)}]:null]]]]]]])}}ThreeWidgetObject3D.Register();class ThreeWidgetCamera extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: grid;\n\t\t\tgrid-gap: var(--io-spacing);\n\t\t\tjustify-self: stretch;\n\t\t\tjustify-items: start;\n\t\t\twhite-space: nowrap;\n\t\t\tgrid-template-columns: minmax(6em, min-content) minmax(12em, 1fr);\n\t\t}\n\t\t:host > span.io-item {\n\t\t\twidth: 100%;\n\t\t\tmax-width: 8em !important;\n\t\t\ttext-align: right;\n\t\t}\n\t\t"}static get Properties(){return{value:{type:Object,observe:1}}}_setValues(t){const e=this.value;e.near=t.detail.value[0],e.far=t.detail.value[1],this.dispatchEvent("object-mutated",{object:e},!1,window)}changed(){const t=this.value;this.template([["span",{class:"io-item"},"near-far:"],["io-number-slider-range",{step:1e-4,min:1e-4,max:1e4,exponent:5,value:[t.near,t.far],"on-value-set":this._setValues}]]),this.children[1].children[2].step=.1}}ThreeWidgetCamera.Register();const icons='\n<svg><g id="mesh_triangles">\t<path d="M18.3,12.5l-4.8-8.2c0.1-0.2,0.1-0.4,0.1-0.6c0-0.9-0.7-1.6-1.6-1.6c-0.9,0-1.6,0.7-1.6,1.6c0,0.2,0,0.4,0.1,0.6l-4.1,4\t\tC6.3,8.1,6.1,8,5.9,8C5,8,4.3,8.7,4.3,9.6c0,0.8,0.6,1.5,1.4,1.5l3.8,8.1c-0.3,0.3-0.4,0.6-0.4,1c0,0.9,0.7,1.6,1.6,1.6\t\tc0.9,0,1.6-0.7,1.6-1.6c0-0.3-0.1-0.5-0.2-0.7l5-4.4c0.3,0.3,0.7,0.5,1.1,0.5c0.9,0,1.6-0.7,1.6-1.6C19.7,13.3,19.1,12.6,18.3,12.5\t\tz M7.2,10.5l3.4,1c0,0.1,0,0.2,0,0.3c0,0.8,0.6,1.4,1.3,1.5l-1.3,5.5c-0.2,0-0.5,0.1-0.6,0.2l-3.7-7.9C6.6,11,6.9,10.8,7.2,10.5z\t\t M17,13l-3.4-1c0-0.1,0-0.1,0-0.2c0-0.8-0.6-1.4-1.3-1.5v-5c0.4-0.1,0.7-0.2,1-0.5l4.6,7.9C17.5,12.6,17.2,12.8,17,13z M11.8,5.2v5\t\tc-0.5,0.1-0.9,0.4-1.2,0.8l-3.4-1c0-0.2,0.1-0.3,0.1-0.5c0-0.5-0.2-0.9-0.5-1.2l3.9-3.8C11.1,4.9,11.4,5.2,11.8,5.2z M11,18.8\t\tl1.3-5.5c0.6-0.1,1-0.4,1.3-0.9l3.3,1c-0.1,0.2-0.2,0.4-0.2,0.7s0.1,0.5,0.2,0.8l-5,4.4C11.6,19,11.3,18.9,11,18.8z"/></g><g id="sphere_shadow">\t<path d="M12,2.1c-5.3,0-9.7,4.3-9.7,9.7c0,3.1,1.5,5.9,3.8,7.7c-2.2,0.2-3.7,0.7-3.7,1.2c0,0.7,3,1.3,6.7,1.3\t\tc3.5,0,6.8-0.6,6.7-1.2c3.5-1.5,5.9-4.9,5.9-8.9C21.7,6.4,17.3,2.1,12,2.1z M14.9,19.8l0.5-0.5c-0.3,0-0.7,0.1-1,0.1l-0.8,0.8\t\tc-0.3,0.1-0.5,0.1-0.8,0.1l0.7-0.7l0.2-0.2c-0.3,0-0.6-0.1-0.9-0.1l-0.2,0.2l-0.8,0.8c-0.2,0-0.4,0-0.6,0l1.1-1.1\t\tC12,19.1,11.7,19,11.5,19l-1.2,1.2c-0.2,0-0.4-0.1-0.6-0.1l1.1-1.1l0.2-0.2c-0.2-0.1-0.4-0.2-0.7-0.3l-0.2,0.2L9,19.8\t\tc-0.2-0.1-0.3-0.1-0.5-0.2l1.2-1.2l0.2-0.2c-0.2-0.1-0.4-0.2-0.6-0.4L9.1,18l-1.2,1.2c-0.2-0.1-0.3-0.2-0.4-0.3l1.4-1.4\t\tc-0.2-0.1-0.4-0.3-0.5-0.4l-0.2,0.2l-1.3,1.3c-0.1-0.1-0.3-0.2-0.4-0.3L7.8,17L8,16.8c-0.2-0.2-0.3-0.3-0.5-0.5l-0.2,0.2l-1.4,1.4\t\tc-0.1-0.1-0.2-0.3-0.4-0.4L7,16l0.2-0.2c-0.1-0.2-0.3-0.4-0.4-0.6l-1.6,1.6c-0.1-0.1-0.2-0.3-0.3-0.4L6.3,15l0.2-0.2\t\tc-0.1-0.2-0.2-0.4-0.3-0.6L6,14.4l-1.5,1.5c-0.1-0.2-0.2-0.3-0.2-0.5l1.5-1.5L6,13.7c-0.1-0.2-0.2-0.5-0.2-0.7L4,14.7\t\tc-0.1-0.2-0.1-0.4-0.2-0.6l1.7-1.7c-0.1-0.3-0.1-0.5-0.1-0.8l-0.2,0.2l-1.6,1.6c0-0.2-0.1-0.4-0.1-0.6L5.3,11c0-0.2,0-0.3,0-0.5\t\ts0-0.3,0-0.5l-1.8,1.8c0-0.3,0-0.5,0-0.8l1.9-1.9c0.1-0.4,0.2-0.8,0.3-1.2L5.3,8.2L3.7,9.8C3.8,9.4,3.9,9.1,4,8.7L5.7,7l0.4-0.4\t\tc0.4-0.8,0.8-1.5,1.4-2.1c1.3-0.8,2.9-1.3,4.5-1.3c4.7,0,8.5,3.8,8.5,8.5C20.5,15.5,18.2,18.6,14.9,19.8z"/></g><g id="sphere_shade">\t<path d="M21.8,10.8c-0.4-3.1-2.2-5.8-4.9-7.4c-0.5-0.3-1-0.5-1.5-0.7c-2.6-0.9-5.8-0.8-8.2,0.7C6,4.1,4.8,5,4,6.2S2.7,8.7,2.4,10\t\tc-0.6,2.8,0.2,5.9,2,8.1c1.7,2.1,4.4,3.5,7.1,3.6c2.9,0.2,5.9-1.1,7.9-3.3C21.2,16.4,22.2,13.6,21.8,10.8z M18.4,16.3\t\tc-0.2,0.1-0.4,0.3-0.6,0.4l2.8-2.8c-0.1,0.2-0.2,0.4-0.4,0.6L18.4,16.3z M16.7,17.1c-0.1,0-0.2,0.1-0.4,0.1l4.7-4.7\t\tc0,0.1-0.1,0.2-0.1,0.4L16.7,17.1z M15.6,17.4c-0.1,0-0.2,0-0.3,0l6-6c0,0.1,0,0.2,0,0.3L15.6,17.4z M8.9,3.6\t\tc0.2-0.1,0.4-0.2,0.6-0.3L6.7,6.1C6.8,5.9,6.9,5.7,7,5.5L8.9,3.6z M10.5,2.9c0.1,0,0.2-0.1,0.4-0.1L6.2,7.4c0-0.1,0.1-0.2,0.1-0.4\t\tL10.5,2.9z M11.6,2.6c0.1,0,0.2,0,0.3,0L6,8.5c0-0.1,0-0.2,0-0.3L11.6,2.6z M14.4,17.4l2.7-2.7c-0.3,0.2-0.7,0.3-1,0.4l-2.3,2.3\t\tc-0.1,0-0.2,0-0.2,0l2.1-2.1c-0.2,0-0.5,0.1-0.7,0.1l-2,2c-0.1,0-0.2,0-0.2,0l1.9-1.9c-0.2,0-0.4,0-0.6,0l-1.8,1.8\t\tc-0.1,0-0.1,0-0.2-0.1l1.8-1.8c-0.2,0-0.4,0-0.5-0.1L11.7,17c-0.1,0-0.1,0-0.2-0.1l1.7-1.7l0,0c-0.2,0-0.3-0.1-0.5-0.1L11,16.7\t\tc-0.1,0-0.1,0-0.2-0.1l1.6-1.6c-0.2,0-0.3-0.1-0.5-0.2l-1.6,1.6c-0.1,0-0.1-0.1-0.2-0.1l1.6-1.6c-0.1-0.1-0.3-0.1-0.4-0.2L9.8,16\t\tc0,0-0.1-0.1-0.2-0.1l1.5-1.5c-0.1-0.1-0.3-0.2-0.4-0.2l-1.5,1.5c0,0-0.1-0.1-0.2-0.1l1.5-1.5c-0.1-0.1-0.2-0.2-0.4-0.3l-1.5,1.5\t\tl-0.1-0.1l1.5-1.5c-0.1-0.1-0.2-0.2-0.3-0.3l-1.5,1.5l-0.1-0.1l1.5-1.5c-0.1-0.1-0.2-0.2-0.3-0.3L8,14.4l-0.1-0.1l1.5-1.5\t\tc-0.1-0.1-0.2-0.2-0.3-0.4l-1.5,1.5c0,0-0.1-0.1-0.1-0.2L9,12.3c-0.1-0.1-0.2-0.3-0.2-0.4l-1.5,1.5c0,0-0.1-0.1-0.1-0.2l1.5-1.5\t\tc-0.1-0.1-0.1-0.3-0.2-0.4l-1.6,1.6c0-0.1-0.1-0.1-0.1-0.2l1.6-1.6c-0.1-0.2-0.1-0.3-0.2-0.5l-1.6,1.6c0-0.1,0-0.1-0.1-0.2l1.7-1.7\t\tc0-0.2-0.1-0.4-0.1-0.5l-1.7,1.7c0-0.1,0-0.1-0.1-0.2l1.8-1.8c0-0.2,0-0.4,0-0.6L6.2,11c0-0.1,0-0.1,0-0.2l1.9-1.9\t\tc0-0.2,0-0.5,0.1-0.7l-2.1,2.1c0-0.1,0-0.2,0-0.2l2.2-2.2C8.4,7.6,8.5,7.3,8.6,7L6,9.4c0-0.1,0-0.2,0-0.3l2.8-2.8\t\tC9.3,5.6,9.9,5,10.7,4.5l1.9-1.9c0.1,0,0.2,0,0.3,0l-1.6,1.6c0.3-0.1,0.6-0.2,0.9-0.3l1.3-1.3h0.1l0,0l0,0c0,0,0.1,0,0.2,0\t\tl-1.2,1.2c0.2,0,0.5-0.1,0.7-0.1l1-1c0.1,0,0.1,0,0.2,0l-0.9,0.9c0.2,0,0.4,0,0.6,0L15,2.8c0.1,0,0.1,0,0.2,0.1l-0.8,0.8\t\tc0.2,0,0.4,0,0.5,0.1L15.6,3c0.1,0,0.1,0,0.2,0.1l-0.7,0.8c0.2,0,0.3,0.1,0.5,0.1l0.7-0.7c0.1,0,0.1,0,0.2,0.1l-0.7,0.7\t\tc0.2,0,0.3,0.1,0.4,0.2l0.6-0.6c0,0,0.1,0.1,0.2,0.1l-0.6,0.6c0.1,0.1,0.3,0.1,0.4,0.2L17.3,4c0,0,0.1,0.1,0.2,0.1l-0.6,0.6\t\tc0.1,0.1,0.2,0.2,0.4,0.2l0.6-0.6c0,0,0.1,0.1,0.2,0.1L17.4,5c0.1,0.1,0.2,0.2,0.4,0.3l0.5-0.5l0.1,0.1l-0.5,0.6\t\tc0.1,0.1,0.2,0.2,0.3,0.3l0.6-0.6l0.1,0.1l-0.6,0.6c0.1,0.1,0.2,0.2,0.3,0.3l0.6-0.6l0.1,0.1l-0.6,0.6l0,0l0,0\t\tc0.1,0.1,0.2,0.2,0.2,0.3L19.5,6c0,0,0.1,0.1,0.1,0.2L19,6.8c0.1,0.1,0.2,0.3,0.2,0.4L20,6.6c0,0,0.1,0.1,0.1,0.2l-0.7,0.7\t\tc0.1,0.2,0.1,0.3,0.2,0.4l0.7-0.7c0,0.1,0.1,0.1,0.1,0.2L19.7,8c0,0.2,0.1,0.3,0.1,0.5l0.8-0.8c0,0.1,0,0.1,0.1,0.2l-0.8,0.8\t\tc0,0.2,0.1,0.4,0.1,0.5l0.9-0.9c0,0.1,0,0.1,0.1,0.2l-1,1c0,0.2,0,0.4,0,0.6L21,9c0,0.1,0,0.1,0,0.2l-1.2,1.2\t\tc0,0.2-0.1,0.5-0.1,0.7l1.4-1.4c0,0.1,0,0.2,0,0.2l-1.5,1.5c-0.1,0.4-0.3,0.7-0.4,1.1l2-2c0,0.1,0,0.2,0,0.3l-2.4,2.4\t\tc-0.3,0.4-0.7,0.7-1.1,1.1l-3.2,3.2C14.5,17.4,14.4,17.5,14.4,17.4z"/></g><path id="sphere_mesh" d="M22.1,12.6c0-0.4,0-0.8,0-1.2l0,0l0,0c-0.2-3.2-2-6.2-5.1-7.9c-2.4-1.3-5.1-1.7-7.7-1\tc-1.1,0.3-2.1,0.7-3,1.3l0,0c-0.1,0-0.1,0.1-0.2,0.1C4.9,4.7,3.9,5.7,3.1,7c-0.8,1.4-1.2,2.8-1.3,4.3c0,0,0,0,0,0.1v0.1\tc0,0.4,0,0.7,0,1.1c0,0,0,0,0,0.1l0,0c0.2,3.2,2,6.2,5.1,7.9c1.6,0.9,3.4,1.3,5.1,1.3c1.5,0,3-0.4,4.4-1h0.1c0.1,0,0.1-0.1,0.2-0.1\tc0.2-0.1,0.5-0.2,0.7-0.4c0.1-0.1,0.2-0.1,0.3-0.1c0,0,0.1,0,0.1-0.1c1.2-0.8,2.3-1.9,3.1-3.2c0.7-1.3,1.2-2.6,1.3-4\tC22.1,12.9,22.1,12.7,22.1,12.6L22.1,12.6z M17,18.1c-0.8,0.4-1.8,0.6-2.8,0.7c-1.7,0.1-3.5-0.3-5.1-1.1l1.2-2.1\tc1.3,0.6,2.6,0.9,4,0.9c0.9,0,1.8-0.2,2.7-0.5C17.1,16.9,17.1,17.5,17,18.1z M16.2,19.8c-2.4,1.2-5.4,1.1-8.1-0.3l0.5-0.9\tc1.5,0.8,3.3,1.2,5,1.2c0.2,0,0.4,0,0.7,0c0.8-0.1,1.6-0.2,2.3-0.4C16.4,19.6,16.3,19.7,16.2,19.8z M5.7,9.8c0.4,2.1,1.7,4,3.7,5.3\tl-1.2,2.1c-1.5-0.9-2.7-2.2-3.5-3.7c-0.5-0.9-0.7-1.8-0.8-2.7C4.4,10.4,5,10.1,5.7,9.8z M18.6,8.2c0-0.2-0.1-0.5-0.2-0.7\tc-0.3-0.9-1-1.7-1.8-2.3l0.2-0.4c1.4,0.9,2.5,2.2,3,3.6c0,0.1,0.1,0.3,0.1,0.4C19.6,8.6,19.1,8.4,18.6,8.2z M17.3,10.1\tc-0.2,0.3-0.4,0.5-0.7,0.7c-0.1-0.3-0.3-0.6-0.4-0.9c-0.2-0.5-0.5-1-0.8-1.4c0.4,0,0.7,0.1,1,0.1c0.4,0.1,0.8,0.2,1.2,0.3\tC17.6,9.4,17.5,9.8,17.3,10.1z M11.8,5.7c0.5,0.5,1,1,1.5,1.7c-0.9,0-1.8,0-2.6,0.1c0-0.3,0.1-0.7,0.3-0.9\tC11.2,6.2,11.5,5.9,11.8,5.7z M12.9,5.3c0.2,0,0.5-0.1,0.7-0.1c0.5,0,1,0.1,1.6,0.3L14.3,7C13.8,6.3,13.4,5.8,12.9,5.3z M13.4,8.4\tl-1.3,2.2c-0.6-0.5-1.1-1.1-1.3-1.7c0-0.1-0.1-0.2-0.1-0.3C11.6,8.5,12.5,8.4,13.4,8.4z M14.4,9c0.3,0.5,0.6,1,0.8,1.5\tc0.2,0.3,0.3,0.6,0.4,0.9c-0.1,0-0.2,0.1-0.3,0.1c-0.7,0.1-1.5,0-2.2-0.3L14.4,9z M16.6,7.7c-0.4-0.1-0.9-0.1-1.4-0.2l0.9-1.4\tc0.6,0.5,1.1,1.1,1.3,1.7c0,0,0,0,0,0.1C17.2,7.8,16.9,7.7,16.6,7.7z M15.7,4.6C14.4,4.1,13.1,4,12,4.4c-0.4-0.3-0.8-0.6-1.2-0.8\tc0.6-0.1,1.1-0.2,1.7-0.2c1.1,0,2.3,0.3,3.4,0.8L15.7,4.6z M9.4,4.1c0.5,0.2,1,0.5,1.5,0.9c-0.4,0.3-0.7,0.6-0.9,1\tC9.7,6.5,9.5,7,9.5,7.6C8.5,7.8,7.6,8,6.7,8.3l0,0c0-0.8,0.3-1.5,0.7-2.2C7.9,5.2,8.6,4.6,9.4,4.1z M7,9.3C7.8,9,8.7,8.9,9.6,8.7\tc0,0.2,0.1,0.3,0.1,0.5c0.3,0.9,1,1.7,1.8,2.3L10,14.2c-1.8-1.2-3-3-3.3-4.8C6.8,9.4,6.9,9.3,7,9.3z M3,11.9\tc0.2,0.7,0.4,1.4,0.8,2.1c0.9,1.7,2.3,3.1,3.9,4.2L7.1,19c-2.5-1.6-4.1-4-4.3-6.6C2.9,12.2,2.9,12,3,11.9z M10.9,14.8l1.6-2.7\tc0.7,0.3,1.4,0.5,2.1,0.5c0.3,0,0.6,0,0.9-0.1c0.2,0,0.4-0.1,0.5-0.2c0.4,1,0.7,1.9,0.8,2.8C15.1,15.8,12.9,15.7,10.9,14.8z\t M17,11.9c0.5-0.3,0.9-0.7,1.2-1.2c0.2-0.4,0.4-0.9,0.4-1.3c0.6,0.2,1.2,0.5,1.5,0.8c0,1-0.2,1.9-0.7,2.7c-0.4,0.7-1,1.3-1.7,1.7\tC17.7,13.7,17.4,12.8,17,11.9z M7.3,4.3C7,4.7,6.7,5.1,6.4,5.5c-0.6,1-0.8,2.1-0.8,3.1C5,8.9,4.4,9.2,3.9,9.5\tc0.2-1.9,1.2-3.7,2.9-4.8C7,4.5,7.2,4.4,7.3,4.3z M18.2,17.5c0-0.6,0-1.2-0.1-1.8c1-0.5,1.8-1.3,2.4-2.3c0.3-0.4,0.4-0.9,0.6-1.4\tc0,0.2,0,0.4,0,0.6C20.8,14.7,19.8,16.4,18.2,17.5z"/><g id="cube_transparent">\t<path d="M20.6,6.8L12.4,2l0,0h-0.1l0,0h-0.1l0,0l0,0h-0.1l0,0H12l0,0L3.6,6.6C3.4,6.7,3.3,6.9,3.3,7.1l-0.1,9.5l0,0v0.1\t\tc0,0,0,0,0,0.1v0.1l0,0c0,0,0,0.1,0.1,0.1l0,0l0,0l0.1,0.1l0,0l8.2,4.9c0.1,0.1,0.2,0.1,0.3,0.1s0.2,0,0.2-0.1l8.3-4.6\t\tc0.2-0.1,0.3-0.3,0.3-0.4l0.1-9.6C20.8,7.1,20.7,6.9,20.6,6.8z M12.1,3l7.1,4.2L12,11.3L4.9,7.1L12.1,3z M12.5,12.2l7.2-4.1\t\tl-0.1,8.4l-7.2,4L12.5,12.2L12.5,12.2z M4.4,8l7.1,4.2v8.4l-7.2-4.3L4.4,8z M7.5,14.4c0.1,0.2,0.1,0.6-0.2,0.7\t\tc-0.1,0.1-0.2,0.1-0.2,0.1c-0.2,0-0.4-0.1-0.4-0.3c-0.1-0.2-0.1-0.6,0.2-0.7C7,14.1,7.4,14.2,7.5,14.4z M10.6,13.3\t\tc-0.1,0.1-0.2,0.1-0.2,0.1c-0.2,0-0.4-0.1-0.5-0.3s-0.1-0.6,0.2-0.7c0.2-0.1,0.6-0.1,0.7,0.2C10.9,12.8,10.9,13.2,10.6,13.3z\t\t M5.9,15.4C6,15.6,6,16,5.7,16.1c-0.1,0.1-0.2,0.1-0.2,0.1c-0.2,0-0.4-0.1-0.4-0.3C5,15.7,5,15.3,5.3,15.2\t\tC5.4,15,5.7,15.1,5.9,15.4z M9.2,13.5c0.1,0.2,0.1,0.6-0.2,0.7c-0.1,0.1-0.2,0.1-0.2,0.1c-0.2,0-0.4-0.1-0.4-0.3\t\tc-0.1-0.2-0.1-0.6,0.2-0.7C8.7,13.2,9,13.3,9.2,13.5z M15.7,14.1c-0.1,0.2-0.3,0.2-0.4,0.2c-0.1,0-0.2,0-0.3-0.1\t\tc-0.2-0.1-0.3-0.5-0.2-0.7s0.5-0.3,0.7-0.2C15.8,13.5,15.9,13.9,15.7,14.1z M14.1,13.1c-0.1,0.2-0.3,0.2-0.4,0.2\t\tc-0.1,0-0.2,0-0.3-0.1c-0.2-0.1-0.3-0.5-0.2-0.7s0.5-0.3,0.7-0.2C14.2,12.6,14.2,12.9,14.1,13.1z M17.3,15.1\t\tc-0.1,0.2-0.3,0.2-0.4,0.2s-0.2,0-0.3-0.1c-0.2-0.1-0.3-0.5-0.2-0.7c0.1-0.2,0.5-0.3,0.7-0.2C17.4,14.5,17.5,14.8,17.3,15.1z\t\t M19,16c-0.1,0.2-0.3,0.2-0.4,0.2s-0.2,0-0.3-0.1c-0.2-0.1-0.3-0.5-0.2-0.7c0.1-0.2,0.5-0.3,0.7-0.2C19.1,15.5,19.1,15.8,19,16z\t\t M11.6,4.3c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5s-0.2,0.5-0.5,0.5l0,0C11.8,4.8,11.6,4.6,11.6,4.3z M12.6,10\t\tc0,0.3-0.2,0.5-0.5,0.5l0,0c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5S12.6,9.7,12.6,10z M11.5,8.1c0-0.3,0.2-0.5,0.5-0.5\t\ts0.5,0.2,0.5,0.5S12.3,8.6,12,8.6l0,0C11.8,8.6,11.5,8.4,11.5,8.1z M11.6,6.2c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5\t\ts-0.2,0.5-0.5,0.5l0,0C11.8,6.7,11.5,6.5,11.6,6.2z"/></g><g id="group">\t<path d="M16.9,21.5c-0.1,0-0.2,0-0.3-0.1L12,19.3l-4.6,2.1c-0.1,0-0.2,0.1-0.3,0.1c-0.1,0-0.2,0-0.3-0.1l-4.9-2.3\t\tc-0.3-0.1-0.4-0.4-0.4-0.6v-5.4V13l0,0c0-0.1,0-0.1,0.1-0.2l0.1-0.1l0.1-0.1l0.1-0.1l4.5-2.1v-5V5.3V5.2V5.1L6.5,5h0.1l0.1-0.1\t\tl0.1-0.1l4.9-2.3c0.1,0,0.2-0.1,0.3-0.1s0.2,0,0.3,0.1l5,2.3l0.1,0.1L17.5,5l0,0l0,0l0.1,0.2v5.1l4.5,2.1h0.1l0.1,0.1l0,0l0.1,0.1\t\tv0.1L22.1,13l0.4-0.1V13v0.1v5.4c0,0.3-0.2,0.5-0.4,0.6l-4.9,2.3C17.1,21.5,17,21.5,16.9,21.5z M7.8,19.7l3.5-1.6v-3.8l-3.5,1.6\t\tV19.7z M17.6,19.7l3.5-1.6v-3.8l-3.5,1.6V19.7z M6.4,19.7v-3.9l-3.5-1.6V18L6.4,19.7z M16.2,19.7v-3.9l-3.5-1.6V18L16.2,19.7z\t\t M7.1,14.6l3.2-1.5L7,11.7l-3.2,1.5L7.1,14.6z M16.9,14.6l3.2-1.5L17,11.7l-3.2,1.5L16.9,14.6z M12.7,12l3.5-1.6V6.6l-3.5,1.6\t\tC12.7,8.2,12.7,12,12.7,12z M11.3,12V8.2L7.8,6.6v3.8L11.3,12z M12,7l3.2-1.5L12,4L8.8,5.5L12,7z"/></g><g id="cube">\t<path d="M20,6.4L20,6.4l-7.1-4.1c-0.6-0.3-1.3-0.3-1.8,0L4,6.4C3.4,6.8,3.1,7.4,3.1,8v8.2c0,0.7,0.4,1.2,0.9,1.6l7.1,4.1\t\tc0.3,0.2,0.6,0.3,0.9,0.3s0.6-0.1,0.9-0.3l7.1-4.1c0.6-0.3,0.9-0.9,0.9-1.6V8C20.9,7.4,20.6,6.8,20,6.4z M11.8,3.6\t\tc0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0l6.6,3.8L12,11.3L5.2,7.4L11.8,3.6z M4.7,16.6c-0.1-0.1-0.2-0.2-0.2-0.3V8.6l6.8,3.9v7.8\t\tL4.7,16.6z M19.3,16.6l-6.6,3.8v-7.8l6.8-3.9v7.6C19.5,16.4,19.4,16.5,19.3,16.6z"/></g><g id="cube_axis_alt">\t<path d="M16.7,10l-4.4-2.6l0,0h-0.1l0,0h-0.1l0,0l0,0H12l0,0h-0.1l0,0L7.4,9.9c-0.2,0.1-0.3,0.3-0.3,0.4L7,15.4\t\tc0,0.2,0.1,0.3,0.2,0.4l4.4,2.6c0.1,0.1,0.2,0.1,0.3,0.1s0.2,0,0.2-0.1l4.4-2.5c0,0,0.1,0,0.1-0.1l0,0l0.1-0.1c0,0,0-0.1,0.1-0.1\t\tl0,0v-0.1l0,0l0.1-5.1C17,10.3,16.8,10.1,16.7,10z M8.1,11.2l3.4,2l-0.1,3.9l-3.4-2L8.1,11.2z M12.1,8.4l3.4,2L12,12.3l-3.4-2\t\tL12.1,8.4z M12.5,13.2l3.4-1.9l-0.1,3.9l-3.4,1.9L12.5,13.2z M21.9,18.8c0,0.2-0.2,0.2-0.4,0.2c-0.1,0-0.2,0-0.3-0.1\t\tc-0.2-0.1-0.3-0.4-0.2-0.7c0.1-0.2,0.4-0.3,0.7-0.2C22,18.3,22.1,18.6,21.9,18.8z M20.2,17.8C20.1,18,20,18,19.8,18\t\tc-0.1,0-0.2,0-0.3-0.1c-0.2-0.1-0.3-0.4-0.2-0.7c0.1-0.2,0.4-0.3,0.7-0.2C20.3,17.3,20.4,17.6,20.2,17.8z M18.5,16.8\t\tC18.4,17,18.2,17,18.1,17s-0.2,0-0.3-0.1c-0.2-0.1-0.3-0.4-0.2-0.7c0.1-0.2,0.4-0.3,0.7-0.2C18.6,16.2,18.7,16.5,18.5,16.8z\t\t M2.9,18.1C3,18.3,3,18.7,2.7,18.8c-0.1,0.1-0.2,0.1-0.2,0.1c-0.2,0-0.3-0.1-0.4-0.3C1.9,18.3,2,18,2.2,17.9S2.8,17.8,2.9,18.1z\t\t M4.6,17.1c0.1,0.2,0.1,0.6-0.2,0.7c-0.1,0.1-0.2,0.1-0.2,0.1c-0.2,0-0.3-0.1-0.4-0.3C3.7,17.3,3.7,17,4,16.9\t\tC4.2,16.8,4.5,16.9,4.6,17.1z M6.4,16.1c0.1,0.2,0.1,0.6-0.2,0.7C6.1,16.9,6,16.9,6,16.9c-0.2,0-0.3-0.1-0.4-0.3\t\tc-0.1-0.2-0.1-0.6,0.2-0.7C5.9,15.8,6.2,15.9,6.4,16.1z M11.6,3.9c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5s-0.2,0.5-0.5,0.5\t\tS11.6,4.1,11.6,3.9z M11.6,1.9c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5s-0.2,0.5-0.5,0.5S11.6,2.1,11.6,1.9z M11.6,5.8\t\tc0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5s-0.2,0.5-0.5,0.5S11.6,6.1,11.6,5.8z"/></g><g id="cube_axis">\t<path d="M21.4,17.1l-3.8-2.2v-4.8c0-0.2,0-0.3-0.1-0.4c0,0,0-0.1-0.1-0.1c-0.1-0.1-0.1-0.2-0.2-0.2l0,0L12.9,7V4\t\tc0-0.5-0.4-0.9-0.9-0.9S11.1,3.5,11.1,4v3L6.9,9.4l0,0C6.8,9.5,6.7,9.5,6.7,9.6c0,0,0,0.1-0.1,0.1C6.5,9.8,6.5,10,6.5,10.1v4.8\t\tl-3.8,2.2c-0.4,0.2-0.6,0.8-0.3,1.2c0.2,0.4,0.8,0.6,1.2,0.3l3.8-2.2l4.2,2.4l0,0c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0,0.4-0.1l0,0\t\tl4.2-2.4l3.8,2.2c0.4,0.2,1,0.1,1.2-0.3C21.9,17.9,21.8,17.3,21.4,17.1z M11.1,16.5l-2.8-1.6v-3.2l2.8,1.6V16.5z M12,11.7l-2.8-1.6\t\tL12,8.5l2.8,1.6L12,11.7z M15.7,14.9l-2.8,1.6v-3.3l2.8-1.6V14.9z"/></g><g id="grid"><path d="M1.6,11.2L12,5.9l10.4,5.3l-10.3,7.1L1.6,11.2z M12.1,17.6l2.3-1.6L12,14.6L9.7,16L12.1,17.6z M9.3,15.8l2.3-1.4\tL9.4,13l-2.3,1.3L9.3,15.8z M14.8,15.8l2.1-1.4L14.6,13l-2.1,1.3L14.8,15.8z M6.7,14L9,12.7L7,11.5l-2.3,1.2L6.7,14z M12,14l2.1-1.3\tL12,11.5l-2.1,1.2L12,14z M17.4,14l1.9-1.3L17,11.5l-1.9,1.2L17.4,14z M4.3,12.4l2.3-1.2l-1.8-1.1l-2.3,1.1L4.3,12.4z M9.5,12.4\tl2.1-1.2l-1.9-1.1l-2.1,1.1L9.5,12.4z M14.6,12.4l1.9-1.2l-2.1-1.1l-1.9,1.1L14.6,12.4z M19.7,12.4l1.7-1.2l-2.3-1.1l-1.8,1.1\tL19.7,12.4z M12,10.9l1.9-1.1l-1.9-1l-1.9,1L12,10.9z M7.1,10.9l2.1-1.1l-1.8-1l-2.1,1L7.1,10.9z M17,10.9l1.7-1.1l-2.1-1l-1.8,1\tL17,10.9z M14.4,9.6l1.7-1l-1.9-1l-1.7,0.9L14.4,9.6z M9.6,9.6l1.9-1L9.8,7.6l-1.9,1L9.6,9.6z M12,8.3l1.7-0.9L12,6.4l-1.7,0.9\tL12,8.3z"/></g></svg>';IoIconsetSingleton.registerIcons("three",icons);export{Selection,ThreeEuler,ThreeInspector,ThreeRenderer,ThreeViewport,ThreeWidgetCamera,ThreeWidgetObject3D};